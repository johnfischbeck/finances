---
title: Visualisations
layout: default
---

{% include header.html %}

<!-- D3 code goes here -->
<script>
    d3.tsv("state_crime.tsv", function(error, state_crime) {
        if (error) return console.error(error);

        // Coerce data values to be numeric
        state_crime.forEach(function(d) {
            d3.keys(d).forEach(function(k){
                if(k != "State"){
                    d[k] = +d[k]
                }
            })
        });
        // Filter out US total values
        state_crime = state_crime.filter(function(d){
            return d.State != "United States-Total"
        })
        make_viz(state_crime);
    });
    function make_viz(data){
        var visualization = d3plus.viz()
        .container("#viz1")
        .messages({branding: true})
        .data(data)
        .type("tree_map")
        .id("State")
        .size("Assault")
        .time("Year")
        .background("#556270")
        .draw()
    }

    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("active");
    });

    window.onload = function() {

        var $slider = document.getElementById('slider');
        var $toggle = document.getElementById('toggle-sidebar-1');

        $toggle.addEventListener('click', function(e) {
            var isOpen = $slider.classList.contains('slide-in');

            $slider.setAttribute('class', isOpen ? 'slide-out' : 'slide-in');
        });
    }
</script>

<div style="margin-top: 90px;">
    <div id="slider" style="width:15%; height: 78vh; float:left; margin-left:2%; padding-left: 10px;  background: #ffffff; transform: translateX(0%); -webkit-transform: translateX(0%);" class="slide-in">
        Text Text Text
        <div id="toggle-sidebar-1" style="position: absolute; top: 5px; right: 5px; "><img width="15px" height="15px" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNNCwxMGgyNGMxLjEwNCwwLDItMC44OTYsMi0ycy0wLjg5Ni0yLTItMkg0QzIuODk2LDYsMiw2Ljg5NiwyLDhTMi44OTYsMTAsNCwxMHogTTI4LDE0SDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDIgIHMwLjg5NiwyLDIsMmgyNGMxLjEwNCwwLDItMC44OTYsMi0yUzI5LjEwNCwxNCwyOCwxNHogTTI4LDIySDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDJzMC44OTYsMiwyLDJoMjRjMS4xMDQsMCwyLTAuODk2LDItMiAgUzI5LjEwNCwyMiwyOCwyMnoiLz48L3N2Zz4=" alt="Menu"/></div>
    </div>
    <div id="viz1" style="width:80%; float:right; margin-right:30px; height: 80vh"></div>
    <!-- TODO: resize the viz container when menu is hidden--!>
</div>



